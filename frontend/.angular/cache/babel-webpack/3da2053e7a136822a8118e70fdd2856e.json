{"ast":null,"code":"import { base64Encode } from \"../../internal/utils/base64Encode.js\";\nimport { isObject } from \"../utils/isObject.js\";\n/**\n * Parse custom_function options\n * @private\n * @param {object|*} customFunction a custom function object containing function_type and source values\n * @return {string|*} custom_function transformation string\n */\n\nexport function processCustomFunction(customFunction) {\n  if (!isObject(customFunction)) {\n    return customFunction;\n  }\n\n  if (customFunction.function_type === \"remote\") {\n    const encodedSource = base64Encode(customFunction.source).replace(/\\+/g, '-') // Convert '+' to '-'\n    .replace(/\\//g, '_') // Convert '/' to '_'\n    .replace(/=+$/, ''); // Remove ending '='\n\n    return [customFunction.function_type, encodedSource].join(\":\");\n  }\n\n  return [customFunction.function_type, customFunction.source].join(\":\");\n}","map":null,"metadata":{},"sourceType":"module"}