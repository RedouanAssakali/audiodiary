{"ast":null,"code":"import { User } from \"../../../models/user\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/auth.service\";\nimport * as i2 from \"@angular/router\";\nconst _c0 = [\"f\"];\n\nfunction LoginComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵelementStart(1, \"div\", 16);\n    i0.ɵɵelementStart(2, \"div\", 18);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementStart(4, \"button\", 19);\n    i0.ɵɵelementStart(5, \"span\", 20);\n    i0.ɵɵtext(6, \"\\u00D7\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.welcomeMessage, \" \");\n  }\n}\n\nfunction LoginComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtext(1, \"Please enter a valid e-mail\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtext(1, \"Please enter a valid password\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r6.errorMessage);\n  }\n}\n\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(authService, router, route) {\n      this.authService = authService;\n      this.router = router;\n      this.route = route; // ngOnInit() {\n      //   this.formData = new FormGroup({\n      //     userName: new FormControl(\"admin\"),\n      //     password: new FormControl(\"admin\"),\n      //   });\n      // }\n      //\n      // onClickSubmit(data: any) {\n      //   this.userName = data.userName;\n      //   this.password = data.password;\n      //\n      //   console.log(\"Login page: \" + this.userName);\n      //   console.log(\"Login page: \" + this.password);\n      //\n      //   this.authService.login(this.userName, this.password)\n      //     .subscribe( (data: unknown) => {\n      //       console.log(\"Is Login Success: \" + data);\n      //\n      //       if(data) this.router.navigate(['/expenses']);\n      //     });\n      // }\n\n      this.user = new User();\n    }\n\n    ngOnInit() {\n      this.route.queryParams.subscribe(params => {\n        this.welcomeMessage = params.msg;\n\n        if (params.expectedUrl) {\n          this.expectedUrl = params.expectedUrl;\n        }\n      });\n    }\n\n    onSubmit() {\n      console.log(this.user);\n      this.authService.auth(this.user).subscribe(data => {\n        if (this.authService.getUser().admin == false) {\n          this.expectedUrl = '/feedview';\n        } else {\n          this.expectedUrl = '/admin';\n        }\n\n        this.router.navigate([this.expectedUrl]);\n      }, error => {\n        this.errorMessage = error.error.message || 'Apparently your server is down: ' + error.message;\n      });\n    }\n\n  }\n\n  LoginComponent.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n  };\n\n  LoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    viewQuery: function LoginComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.myForm = _t.first);\n      }\n    },\n    decls: 26,\n    vars: 7,\n    consts: [[1, \"container\"], [\"class\", \"row\", 4, \"ngIf\"], [1, \"row\"], [1, \"col-sm-3\"], [1, \"col-sm-6\"], [3, \"ngSubmit\"], [\"f\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"inputEmail\"], [\"type\", \"email\", \"id\", \"inputEmail\", \"name\", \"email\", \"required\", \"\", \"email\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"emailComponent\", \"ngModel\"], [\"class\", \"alert alert-warning\", 4, \"ngIf\"], [\"type\", \"password\", \"id\", \"inputPassword\", \"name\", \"password\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"passwordComponent\", \"ngModel\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"row>\"], [1, \"col\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"role\", \"alert\", 1, \"alert\", \"alert-info\", \"alert-dismissible\", \"fade\", \"show\"], [\"type\", \"button\", \"data-dismiss\", \"alert\", \"aria-label\", \"Close\", 1, \"close\"], [\"aria-hidden\", \"true\"], [1, \"alert\", \"alert-warning\"], [1, \"alert\", \"alert-danger\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, LoginComponent_div_1_Template, 7, 1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelement(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵelementStart(5, \"form\", 5, 6);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_5_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(7, \"div\", 7);\n        i0.ɵɵelementStart(8, \"label\", 8);\n        i0.ɵɵtext(9, \"E-mail\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"input\", 9, 10);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_10_listener($event) {\n          return ctx.user.email = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(12, LoginComponent_div_12_Template, 2, 0, \"div\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 7);\n        i0.ɵɵelementStart(14, \"label\", 8);\n        i0.ɵɵtext(15, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"input\", 12, 13);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_16_listener($event) {\n          return ctx.user.encodedPassword = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(18, LoginComponent_div_18_Template, 2, 0, \"div\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"button\", 14);\n        i0.ɵɵtext(20, \"Login\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(21, \"div\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(22, \"hr\");\n        i0.ɵɵelementStart(23, \"div\", 15);\n        i0.ɵɵelementStart(24, \"div\", 16);\n        i0.ɵɵtemplate(25, LoginComponent_div_25_Template, 2, 1, \"div\", 17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(6);\n\n        const _r2 = i0.ɵɵreference(11);\n\n        const _r4 = i0.ɵɵreference(17);\n\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.welcomeMessage);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngModel\", ctx.user.email);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !_r2.valid && _r2.touched);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.user.encodedPassword);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !_r4.valid && _r4.touched);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", !_r1.valid);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n      }\n    },\n    styles: [\".postCard[_ngcontent-%COMP%]{max-width:500px;margin:auto;width:95%;height:auto;background:#FFFFFF;color:#000;float:none;border-radius:21px;box-shadow:#0e1e251f 0 2px 4px,#0e1e2552 0 2px 16px}.btn-login[_ngcontent-%COMP%]{font-family:Raleway-SemiBold;font-size:13px;color:#fff;letter-spacing:1px;line-height:15px;border-radius:40px;background-color:#2c2c2c;transition:all .3s ease 0s;position:center;display:inline;width:150px}.btn-login[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3b3b3b}\"]\n  });\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}