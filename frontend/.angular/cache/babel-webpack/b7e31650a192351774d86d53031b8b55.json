{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/posts.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"./profile-post/profile-post.component\";\n\nfunction ProfileComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_div_11_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const post_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.postSelection(post_r1);\n    });\n    i0.ɵɵelementStart(1, \"app-profile-post\", 13);\n    i0.ɵɵlistener(\"deleteSelected\", function ProfileComponent_div_11_Template_app_profile_post_deleteSelected_1_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.onDelete($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const post_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"selectedPost\", ctx_r0.getSelectedPost)(\"audioPost\", post_r1);\n  }\n}\n\nexport let ProfileComponent = /*#__PURE__*/(() => {\n  class ProfileComponent {\n    constructor(postsService) {\n      this.postsService = postsService;\n      this.text = \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\";\n    }\n\n    getAllPosts() {\n      this.postsService.restGetPosts().subscribe(data => {\n        // @ts-ignore\n        this.posts = data;\n        console.log(data);\n      }, error => console.log(\"Error: \" + error.status + \" - \" + error.error));\n    }\n\n    getFavPosts() {\n      this.postsService.restGetPosts().subscribe(data => {\n        // @ts-ignore\n        this.favoritePost = data;\n        console.log(data);\n      }, error => console.log(\"Error: \" + error.status + \" - \" + error.error));\n    }\n\n    deletePosts(postId) {\n      this.postsService.restDeletePosts(postId).subscribe(response => {\n        console.log(response);\n      }, error => {\n        console.log(error);\n      });\n    }\n\n    ngOnInit() {\n      this.getAllPosts();\n      this.getFavPosts();\n    }\n\n    postSelection(postSelection) {\n      this.selectedPost = postSelection;\n    }\n\n    favoritePostSelection(favoritePostSelection) {\n      this.selectedFavoritePost = favoritePostSelection;\n    }\n\n    get getSelectedPost() {\n      return this.selectedPost;\n    }\n\n    get getSelectedFavoritePost() {\n      return this.selectedFavoritePost;\n    }\n\n    onDelete(post) {\n      let index = this.posts.indexOf(post);\n\n      if (index !== -1) {\n        this.posts.splice(index, 1);\n        this.deletePosts(post.id);\n        console.log(post.id);\n      } else {\n        return;\n      }\n\n      this.selectedPost = undefined;\n    }\n\n    onDeleteFavorite(fav) {\n      let index = this.favoritePost.indexOf(fav);\n\n      if (index !== -1) {\n        this.favoritePost.splice(index, 1);\n        this.deletePosts(fav.id);\n      } else {\n        return;\n      }\n\n      this.selectedFavoritePost = undefined;\n    }\n\n  }\n\n  ProfileComponent.ɵfac = function ProfileComponent_Factory(t) {\n    return new (t || ProfileComponent)(i0.ɵɵdirectiveInject(i1.PostsService));\n  };\n\n  ProfileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProfileComponent,\n    selectors: [[\"app-profile\"]],\n    inputs: {\n      audioPost: \"audioPost\"\n    },\n    decls: 14,\n    vars: 1,\n    consts: [[1, \"profile-container\"], [1, \"title-container\"], [1, \"profile-header-pic\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-user\"], [1, \"profile-header-name\"], [1, \"profile-hr\"], [1, \"profile-top-section\"], [1, \"profile-section-title\"], [1, \"allPosts\"], [3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"whiteSpace\", 2, \"height\", \"30px\"], [1, \"whiteSpace\", 2, \"height\", \"150px\"], [3, \"click\"], [3, \"selectedPost\", \"audioPost\", \"deleteSelected\"]],\n    template: function ProfileComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"span\", 2);\n        i0.ɵɵelement(3, \"i\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"span\", 4);\n        i0.ɵɵtext(5, \"user Diary\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(6, \"hr\", 5);\n        i0.ɵɵelementStart(7, \"div\", 6);\n        i0.ɵɵelementStart(8, \"h5\", 7);\n        i0.ɵɵtext(9, \"My Fragments\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 8);\n        i0.ɵɵtemplate(11, ProfileComponent_div_11_Template, 2, 2, \"div\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(12, \"div\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(13, \"div\", 11);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngForOf\", ctx.posts);\n      }\n    },\n    directives: [i2.NgForOf, i3.ProfilePostComponent],\n    styles: [\".profile-header-pic[_ngcontent-%COMP%], .profile-header-name[_ngcontent-%COMP%]{display:inline-block;padding:5px}.profile-container[_ngcontent-%COMP%]{max-width:500px;margin:auto}.profile-hr[_ngcontent-%COMP%]{width:80%;background-color:#262626;opacity:30%}.profile-header-name[_ngcontent-%COMP%]{background-color:#262626;color:#fff;padding-left:20px;padding-right:20px;border-radius:20px}.profile-header-pic[_ngcontent-%COMP%]{margin-top:10px}.title-container[_ngcontent-%COMP%]{margin-left:5%}.profile-bin[_ngcontent-%COMP%]{cursor:pointer;padding-top:5px;float:right;color:#000;font-size:25px}.profile-bin[_ngcontent-%COMP%]:hover{font-size:30px}.fa-user[_ngcontent-%COMP%]{color:#262626;font-size:60px}.profile-section-title[_ngcontent-%COMP%]{color:#000;margin-left:7%}\"]\n  });\n  return ProfileComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}