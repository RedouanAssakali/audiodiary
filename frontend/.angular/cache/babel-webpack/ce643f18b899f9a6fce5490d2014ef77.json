{"ast":null,"code":"import { OLD_AKAMAI_SHARED_CDN, SHARED_CDN } from \"../consts.js\";\nexport function unsigned_url_prefix(source, cloud_name, private_cdn, cdn_subdomain, secure_cdn_subdomain, cname, secure, secure_distribution) {\n  let prefix;\n\n  if (cloud_name.indexOf(\"/\") === 0) {\n    return '/res' + cloud_name;\n  }\n\n  let shared_domain = !private_cdn;\n\n  if (secure) {\n    if (secure_distribution == null || secure_distribution === OLD_AKAMAI_SHARED_CDN) {\n      secure_distribution = private_cdn ? cloud_name + \"-res.cloudinary.com\" : SHARED_CDN;\n    }\n\n    if (shared_domain == null) {\n      shared_domain = secure_distribution === SHARED_CDN;\n    }\n\n    prefix = 'https://' + secure_distribution;\n  } else if (cname) {\n    // let subdomain = cdn_subdomain ? 'a' + ((crc32(source) % 5) + 1) + '.' : '';\n    prefix = 'http://' + cname;\n  } else {\n    let cdn_part = private_cdn ? cloud_name + '-' : '';\n    let host = [cdn_part, 'res', '.cloudinary.com'].join('');\n    prefix = 'http://' + host;\n  }\n\n  if (shared_domain) {\n    prefix += '/' + cloud_name;\n  }\n\n  return prefix;\n}","map":null,"metadata":{},"sourceType":"module"}