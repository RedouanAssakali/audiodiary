{"ast":null,"code":"import { Qualifier } from \"../../internal/qualifier/Qualifier.js\";\nimport { Action } from \"../../internal/Action.js\";\nimport { toFloatAsString } from \"../../internal/utils/toFloatAsString.js\";\nimport { AspectRatioQualifierValue } from \"../../qualifiers/aspectRatio/AspectRatioQualifierValue.js\";\nimport { ignoreInitialAspectRatio, regionRelative, relative } from \"../../qualifiers/flag.js\";\nimport { FlagQualifier } from \"../../qualifiers/flag/FlagQualifier.js\";\nimport { ACTION_TYPE_TO_CROP_MODE_MAP, CROP_MODE_TO_ACTION_TYPE_MAP } from \"../../internal/internalConstants.js\";\n/**\n * @description Defines a resize using width and height.\n * @extends SDK.Action\n * @memberOf Actions.Resize\n * @see Visit {@link Actions.Resize| Resize} for examples\n */\n\nclass ResizeSimpleAction extends Action {\n  /**\n   * @param {string} cropType\n   * @param {number | string} cropWidth The required width of a transformed asset.\n   * @param {number | string} cropHeight The required height of a transformed asset.\n   */\n  constructor(cropType, cropWidth, cropHeight) {\n    super();\n    this._actionModel = {\n      dimensions: {}\n    };\n    this._actionModel.actionType = CROP_MODE_TO_ACTION_TYPE_MAP[cropType] || cropType;\n    this.addQualifier(new Qualifier('c', cropType));\n    cropWidth && this.width(cropWidth);\n    cropHeight && this.height(cropHeight);\n  }\n  /**\n   * @description Sets the height of the resize\n   * @param {string | number} x The height in pixels (if an integer is specified) or as a percentage (if a float is specified).\n   */\n\n\n  height(x) {\n    this._actionModel.dimensions.height = x;\n    return this.addQualifier(new Qualifier('h', x));\n  }\n  /**\n   * @description Sets the width of the resize\n   * @param {string | number} x The width in pixels (if an integer is specified) or as a percentage (if a float is specified).\n   */\n\n\n  width(x) {\n    this._actionModel.dimensions.width = x;\n    return this.addQualifier(new Qualifier('w', x));\n  }\n  /**\n   * @description Sets the aspect ratio of the asset.\n   * For a list of supported types see {@link Qualifiers.AspectRatio|\n    * AspectRatio values}\n   * @param {AspectRatioType|number|string} ratio The new aspect ratio, specified as a percentage or ratio.\n   * @return {this}\n   */\n\n\n  aspectRatio(ratio) {\n    // toFloatAsString is used to ensure 1 turns into 1.0\n    if (ratio instanceof AspectRatioQualifierValue) {\n      this._actionModel.dimensions.aspectRatio = `${ratio}`;\n      return this.addQualifier(new Qualifier('ar', ratio));\n    }\n\n    if (typeof ratio === 'number' || typeof ratio === 'string') {\n      this._actionModel.dimensions.aspectRatio = toFloatAsString(ratio);\n      return this.addQualifier(new Qualifier('ar', toFloatAsString(ratio)));\n    }\n\n    if (ratio instanceof FlagQualifier) {\n      this._actionModel.dimensions.aspectRatio = `${ratio.qualifierValue}`;\n      return this.addFlag(ratio);\n    }\n  }\n  /**\n   * @description Modifies percentage-based width & height parameters of overlays and underlays (e.g., 1.0) to be relative to the containing image instead of the added layer.\n   * @return {this}\n   */\n\n\n  relative() {\n    this._actionModel.relative = true;\n    return this.addFlag(relative());\n  }\n  /**\n   * @description Modifies percentage-based width & height parameters of overlays and underlays (e.g., 1.0) to be relative to the overlaid region\n   * @return {this}\n   */\n\n\n  regionRelative() {\n    this._actionModel.regionRelative = true;\n    return this.addFlag(regionRelative());\n  }\n\n  static fromJson(actionModel) {\n    const {\n      actionType,\n      dimensions,\n      relative,\n      regionRelative\n    } = actionModel;\n    const {\n      aspectRatio,\n      width,\n      height\n    } = dimensions;\n    const cropMode = ACTION_TYPE_TO_CROP_MODE_MAP[actionType] || actionType; // We are using this() to allow inheriting classes to use super.fromJson.apply(this, [actionModel])\n    // This allows the inheriting classes to determine the class to be created\n\n    const result = new this(cropMode, width, height);\n    aspectRatio && result.aspectRatio(aspectRatio === 'ignore_aspect_ratio' ? ignoreInitialAspectRatio() : aspectRatio);\n    relative && result.relative();\n    regionRelative && result.regionRelative();\n    return result;\n  }\n\n}\n\nexport { ResizeSimpleAction };","map":null,"metadata":{},"sourceType":"module"}